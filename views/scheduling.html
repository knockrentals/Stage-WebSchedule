<div class="scheduling-container"> <div class="scheduling-finished" ng-if="requests"> <request-sent requests="requests"></request-sent> </div> <div class="scheduling-in-progress" ng-if="!requests"> <div class="scheduling-header"> <div layout="row" layout-align="space-between center"> <h2>Schedule a tour!</h2> <div><img src="images/schedule_graphic.a76635f8.png"></div> </div> <p>Choose an approved time below, and you'll be instantly booked!</p> <p ng-if="validation.isLoggedIn"> <i class="fa fa-user"></i> You're logged in as {{renterProfile.first_name}} {{renterProfile.last_name}} <a href ng-click="logout()">Log out</a> </p> </div> <div layout="row" layout-align="start center"> <div class="step-number-circle">1</div> <h3 class="md-title">Choose an available listing</h3> </div> <div layout="column"> <md-progress-circular md-mode="indeterminate" ng-hide="listings"></md-progress-circular> <md-input-container style="padding-bottom: 5px"> <md-select ng-model="chosenTimesModel.listingId" ng-show="listings"> <md-option ng-repeat="listing in listings | orderBy:'leasing.monthlyRent'" ng-value="listing.id">{{listing.title}}</md-option> </md-select> </md-input-container> </div> <choose-times ng-if="!missingCompanyName && listings" chosen-times-model="chosenTimesModel"></choose-times> <signup-user-info ng-if="chosenTimesModel.isFinished" signup-user-info="signupUserInfo" signup-is-finished="validation.signupIsFinished" is-logged-in="validation.isLoggedIn"></signup-user-info> <requirements ng-if="chosenTimesModel.isFinished" passed-requirements="validation.passedRequirements" chosen-times-model="chosenTimesModel" renter-profile="renterProfile"></requirements> <div class="scheduling-error error-messages" ng-show="schedulingError"> {{schedulingError}} </div> <div class="schedule-button-container" flex> <md-button ng-hide="isRequesting" ng-disabled="!chosenTimesModel.isFinished || !(isLoggedIn || validation.signupIsFinished)" class="md-primary md-raised" ng-click="tryRequestAppointment()">Book tour!</md-button> <md-button ng-show="isRequesting" class="md-primary md-raised"><i class="fa fa-cog fa-spin"></i> Sending request...</md-button> </div> </div> </div>